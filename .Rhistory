install.packages(testthat)
install.packages('testthat')
install.packages('royxgen2')
install.packages('devtools')
library(devtools)
devtools::document()
devtools::test()
library(prettypublisher)
library(prettypublisher)
use_package("magittr")
install.packages('magittr')
use_package("magrittr")
use_package("stringr")
?format
?round
document()
library(prettypublisher)
?format
format(2.1, nsmall = 3)
format(2.1, nsmall = 3, justify = 'left')
library(prettypublisher)
document
document()
?pretty_round
create()
devtools::create()
?format
?str_trim
use_vignette("my-vignette")
library(prettypublisher)
pretty_round(2.1)
documents
documents()
library(prettypublisher)
devtools::document()
library(prettypublisher)
?pretty_round
x <- c(2, 2.35343, 5343.1, 23323.1212)
x %>% pretty_round
pretty_round(x)
?contect
?context
?pretty_round
#' @return A rounded numeric vector formatted as a character vector with trialing zeros.
expect_match(pretty_round(2.1, digits =2), '2.10')
library(testthat)
expect_match(pretty_round(2.1, digits = 2), '2.10')
expect_match(pretty_round(2.1, digits = 2), '2.100')
test_that("pretty_round adds trailing zeros as expected") {
expect_match(pretty_round(2.1, digits = 2), '2.10')
}
test_that("pretty_round adds trailing zeros as expected", {
expect_match(pretty_round(2.1, digits = 2), '2.10')
})
source('~/Dropbox/Personal/prettypublisher/tests/testthat/test-pretty_round.R', echo=TRUE)
test_that('pretty_round is correctly dealing with numeric vector inputs', {
vector <- c(1.33, 13123423.234124, 0.232342, 0.000492, 1.343)
char_vector <- as.character(c(1.33, 13123423.23, 0.23, 0.00, 1.34))
expect_equal(length(vector), length(pretty_round(vector)))
expect_match(char_vector, pretty_round(vector, digits = 2))
})
vector <- c(1.33, 13123423.234124, 0.232342, 0.000492, 1.343)
char_vector <- as.character(c(1.33, 13123423.23, 0.23, 0.00, 1.34))
length(pretty_round(vector))
length(vector)
expect_equal(length(vector), length(pretty_round(vector)))
pretty_round(vector, digits = 2)
expect_match(char_vector, pretty_round(vector, digits = 2))
?expect_length
char_vector <- as.character(c(1.33, 13123423.23, 0.23, 0.00, 1.34))
expect_length(1:10, 10)
expect_length(pretty_round(vector), length(vector))
expect_length(pretty_round(vector), vector)
?expect_match
expect_equal(char_vector, pretty_round(vector, digits = 2))
char_vector
char_vector <- as.character(c(1.33, 13123423.23, 0.23, 0.00, 1.34))
char_vector
?expect_equal
expect_equal(char_vector, pretty_round(vector, digits = 2))
char_vector <- c('1.33', '13123423.23', '0.23', '0.00', '1.34')
expect_equal(char_vector, pretty_round(vector, digits = 2))
source('~/Dropbox/Personal/prettypublisher/tests/testthat/test-pretty_round.R', echo=TRUE)
library(prettypublisher)
pretty_round
pretty_percentage = function(num, denom, digits = 2, percent_scaling = 100) {
per <- pretty_round(num/denom * percent_scaling, digits)
per_as_char <- paste0(per, '% (', num, '/', denom, ')')
return(per_as_char)
}
pretty_percentage(10, 100)
pretty_percentage(10, 100, digits = 0)
?lintr
library(lintr)
library('lintr')
install.packages('lintr')
library(lintr)
library(devtools )
devtools::lint_package()
lint_package()
lint_package()
pretty_percentage <- function(num, denom, digits = 2, percent_scaling = 100) {
per <- pretty_round(num / denom * percent_scaling, digits)
per_as_char <- paste0(per,"% (", num,"/", denom,")")
return(per_as_char)
}
lint_package()
lint_package()
pretty_percentage <- function(num, denom, digits = 2, percent_scaling = 100) {
per <- pretty_round(num / denom * percent_scaling, digits)
per_as_char <- paste0(per, "% (", num, "/", denom, ")")
return(per_as_char)
}
pretty_percentage(10, 130)
?str_trim
?pretty_round
?str_trim
lint_package()
document
document()
?pretty_percentage
document(())
document()
?pretty_percentage
document
document()
?pretty_percentage
pretty_percentage <- function(num, denom, digits = 2, percent_scaling = 100, ...) {
per <- pretty_round(num / denom * percent_scaling, digits, as_per = TRUE ...)
if (as_per) {
per_delim <- "% ("
} else {
per_delim <- " ("
}
per_as_char <- paste0(per, per_delim, num, "/", denom, ")")
return(per_as_char)
}
#' ## Return a proportion
pretty_percentage <- function(num, denom, digits = 2, percent_scaling = 100, as_per = TRUE, ...) {
per <- pretty_round(num / denom * percent_scaling, digits, ...)
if (as_per) {
per_delim <- "% ("
} else {
per_delim <- " ("
}
per_as_char <- paste0(per, per_delim, num, "/", denom, ")")
return(per_as_char)
}
pretty_percentage(c(1,4,6, 19), 100, digits = 1)
pretty_percentage(10, 500)
pretty_percentage(c(1, 2, 4, 5, 2), c(100, 40, 50, 40, 30), per_delim = FALSE)
pretty_percentage <- function(num, denom, digits = 2, percent_scaling = 100, as_per = TRUE, ...) {
per <- pretty_round(num / denom * percent_scaling, digits, ...)
if (as_per) {
per_delim <- "% ("
} else {
per_delim <- " ("
}
per_as_char <- paste0(per, per_delim, num, "/", denom, ")")
return(per_as_char)
}
pretty_percentage(c(1, 2, 4, 5, 2), c(100, 40, 50, 40, 30), as_per = FALSE)
source('~/Dropbox/Personal/prettypublisher/R/pretty_percentage.R', echo=TRUE)
library(prettypublisher)
document()
?pretty_percentage
document
document()
document()
?pretty_percentage
library(prettypublisher)
lint_package()
source('~/Dropbox/Personal/prettypublisher/R/pretty_percentage.R', echo=TRUE)
devtools::install_github("rmhogervorst/badgecreatr")
?badgeplacer
badgecreatr::badgeplacer
?badgecreatr::badgeplacer
badgecreatr::badgeplacer()
description <- readLines("DESCRIPTION")
rvers <- stringr::str_match(grep("R \\(", description, value = TRUE), "[0-9]{1,4}\\.[0-9]{1,4}\\.[0-9]{1,4}")[1,1]
install.packages('stringr')
library(stringr)
description <- readLines("DESCRIPTION")
rvers <- stringr::str_match(grep("R \\(", description, value = TRUE), "[0-9]{1,4}\\.[0-9]{1,4}\\.[0-9]{1,4}")[1,1]
readLines("DESCRIPTION")
description <- readLines("DESCRIPTION")
rvers <- stringr::str_match(grep("R \\(", description, value = TRUE), "[0-9]{1,4}\\.[0-9]{1,4}\\.[0-9]{1,4}")[1,1]
stringr::str_match(grep("R \\(", description, value = TRUE), "[0-9]{1,4}\\.[0-9]{1,4}\\.[0-9]{1,4}")[1,1]
install.packages('stringr')
install.packages('magritr')
install.packages('magrittr')
library(packrat)
packrat::init()
library(prettypublisher)
install.packages("roxygen2")
?prettypublisher
?pretty_round
?pretty_percentage
?stringr
?stringr-`stringr-package`
?pretty_percentage
3.5/100 %>% roun
3.5/100 %>% round
3.5/100 %>% round(digits = 2)
pretty_percentage(3.5, 100, digits = 2)
expect_match(pretty_percentage(35, 100, digits = 1), "35% (35/100)")
install.packages(testthat)
install.packages('testthat')
library(testthat)
expect_match(pretty_percentage(35, 100, digits = 1), "35% (35/100)")
expect_match(pretty_percentage(35, 100, digits = 0), "35% (35/100)")
pretty_percentage(35, 100, digits = 0)
expect_match(pretty_percentage(35, 100, digits = 0), "35% (35/100)")
pretty_percentage(35, 100, digits = 0)
expect_match(pretty_percentage(35, 100, digits = 0), "35% (35/100)")
expect_match(pretty_percentage(35, 100, digits = 0), "35% (35/100)")
pretty_percentage(35, 100, digits = 0)
expect_match("35% (35/100)", pretty_percentage(35, 100, digits = 0))
pretty_percentage(35, 100, digits = 0) %>% class
expect_equal("35% (35/100)", pretty_percentage(35, 100, digits = 0))
expect_equal("35% (35/100)", pretty_percentage(35, 100, digits = 0))
?expect_equal
num_vector <- c(100, 10, 45, 1000, 45, 201, 34, 16)
denom_vector <- c(232, 100, 398, 2332, 20321, 10, 100, 48)
num_vector <- c(100, 10, 45, 1000, 45, 201, 34, 16)
denom_vector <- c(232, 100, 398, 2332, 20321, 10, 100, 48)
results_vector <- pretty_percentage(num_vector, denom_vector, digits = 1)
results_vector
expect_length(pretty_percentage(num_vector, denom_vector, digits = 1), length(results_vector))
expect_equal(char_vector, pretty_percentage(num_vector, denom_vector, digits = 1))
expect_equal(results_vector, pretty_percentage(num_vector, denom_vector, digits = 1))
num_vector <- c(100, 10, 45, 1000, 45, 201, 34, 16)
num_vector <- c(100, 10, 45, 1000, 45, 201, 34, 16)
denom_vector <- c(1000)
pretty_percentage(num_vector, denom_vector, digits = 1), length(results_vector)
pretty_percentage(num_vector, denom_vector, digits = 1)
results_vector <- c("10.0% (100/1000)", "1.0% (10/1000)", "4.5% (45/1000)", "100.0% (1000/1000)", "4.5% (45/1000)", "20.1% (201/1000)", "3.4% (34/1000)", "1.6% (16/1000)")
source('~/Dropbox/Personal/prettypublisher/tests/testthat/test-pretty_percentage.R', echo=TRUE)
library(prettypublisher)
pretty_percentage(23, 457, digits = 0, percent_scaling = 1, as_per = FALSE)
pretty_percentage(23, 457, digits = 2, percent_scaling = 1, as_per = FALSE)
expect_equal("0.05 (23/457)", pretty_percentage(23, 457, digits = 2, percent_scaling = 1, as_per = FALSE))
library(prettypublisher)
lint_package
install.packages('lintr')
lint_package()
library(lintr)
lint_package()
lint_package('prettypublisher')
lint_package
lintr::lint_package()
install.packages('codetools')
library(codetools)
lint_package()
install.packages('formatR')
library(formatR)
?formatR
library(formatR)
formatR
format_dir
??formatR
tidy_dir()
expect_equal("35% (35/100)", pretty_percentage(35, 100, digits = 0))
source('~/Dropbox/Personal/prettypublisher/tests/testthat/test-pretty_percentage.R', echo=TRUE)
lint_package
lint_package()
tidy_source('test-pretty_percentage.R')
tidy_source('tests/testthat/test-pretty_percentage.R')
lint_package()
lint_package()
lint_package()
lint_package()
lint_package()
library(prettypublisher)
man(prettypublisher)
help(prettypublisher)
??prettypublisher
?tidyverse
library(stringr)
?stringr
?pretty_percentage
?stringr
lintr
library(lintr)
lint_package()
install.packages('pkgdown')
devtools::install_github('hadley/pkgdown')
install.packages('devtools')
library(devtools)
install.packages('devtools')
devtools::install_github('hadley/pkgdown')
build_site()
?pgkdown
library(pkgdown)
build_site()
library(prettypublisher)
build_site
build_site()
pkgdown:::build_site_rstudio()
pkgdown:::build_site_rstudio()
?stringr
library(prettypublisher)
?prettypublisher
library(prettypublisher)
?prettypublisher
?stringr
?prettypublisher
?stringr
library(prettypublisher)
pkgdown:::build_site_rstudio()
?prettypublisher
library(prettypublisher)
?prettypublisher
?prettypublisher
lint_package(())
lint_package()
library(lintr)
lint_package()
matrix(0, nrow = 10, ncol = 3)
matrix(0, nrow = 10, ncol = 3) -> x
pretty_ci <- function(string, sep = ' to ', digits = 2 ) {
string <- string %>%
as.numeric %>%
pretty_round(digits = digits)
string <- paste0(string[1], ' (', string[2], sep, string[3], ')' )
return(string)
}
pretty_ci(x)
library(magrittr)
pretty_ci(x)
pretty_ci <- function(string, sep = ' to ', digits = 2 ) {
string <- string %>%
as.numeric %>%
pretty_round(digits = digits)
string <- paste0(string[,1], ' (', string[,2], sep, string[,3], ')' )
return(string)
}
pretty_ci(x)
x
library(dplyr)
install.packages(dplyr)
install.packages('dplyr')
library(dplyr)
data_frame(x = c(0,2), lci = c(0, 1), uci = c(1, 4))
data_frame(x = c(0,2), lci = c(0, 1), uci = c(1, 4)) -> x
x
x %>% pretty_ci
pretty_ci(x)
pretty_ci <- function(string, sep = ' to ', digits = 2 ) {
string <- string %>%
as.numeric %>%
pretty_round(digits = digits)
string <- paste0(string[1], ' (', string[2], sep, string[3], ')' )
return(string)
}
pretty_ci <- function(est, lci, uci, sep = ' to ', digits = 2 ) {
string <- c(est, lci, uci)
string <- string %>%
as.numeric %>%
pretty_round(digits = digits)
string <- paste0(string[1], ' (', string[2], sep, string[3], ')' )
return(string)
}
pretty_ci <- function(string, sep = ' to ', digits = 2 ) {
string <- string %>%
as.numeric %>%
pretty_round(digits = digits)
string <- paste0(string[1], ' (', string[2], sep, string[3], ')' )
return(string)
}
pretty_ci(x,lci, uci)
mutate(x, ci = pretty_ci(x,lci, uci))
source('~/Dropbox/Personal/prettypublisher/R/pretty_ci.R', echo=TRUE)
mutate(x, ci = pretty_ci(x,lci, uci))
string <- c(est, lci, uci)
string <- string %>%
as.numeric %>%
pretty_round(digits = digits)
string
string <- data_frame(est, lci, uci)
string
pretty_ci <- function(est, lci, uci, sep = ' to ', digits = 2 ) {
browser()
df <- data_frame(est, lci, uci)
df <- df %>%
mutate_all(funs(pretty_round(as.numeric(.), digits = digits))) %>%
mutate(ci = paste0(est, ' (', lci, sep, uci, ')'))
return(df$ci)
}
pretty_ci <- function(est, lci, uci, sep = ' to ', digits = 2 ) {
browser()
df <- data_frame(est, lci, uci)
df <- df %>%
mutate_all(funs(pretty_round(as.numeric(.), digits = digits))) %>%
mutate(ci = paste0(est, ' (', lci, sep, uci, ')'))
return(df$ci)
}
pretty_ci(1,0,2)
source('~/Dropbox/Personal/prettypublisher/R/pretty_ci.R', echo=TRUE)
mutate(x, ci = pretty_ci(x,lci, uci))
?mutate
?str
?stri_trim
?mutate
?pretty_round
?stri_trim
pretty_ci(2, lci = 1, uci = 3)
est <- c(0, 1, 100, 300, 21221, 403)
lci <- c(-123, -0.2, 100, 12321, 200)
uci <- c(10, 2, 200, 400, 30122, 500)
pretty_ci(est, lci = lci, uci = uci, sep = '-', digits = 1)
lci <- c(-123, -0.2, 50, 100, 12321, 200)
pretty_ci(est, lci = lci, uci = uci, sep = '-', digits = 1)
x <- data_frame(est = c(0,1), lci = c(0, 2), uci = c(1, 4))
x %>% mutate(ci = est %>% pretty_ci(lci = lci, uci = uci, sep = ' by '))
x <- x %>% mutate(ci = est %>% pretty_ci(lci = lci, uci = uci, sep = ' by ', digits = 0))
x
pretty_ci(2, lci = 1, uci = 3, digits = 2, sep = ' to')
pretty_ci(2, lci = 1, uci = 3, digits = 2, sep = ' to ')
pretty_ci(est = c(0, 1, 100, 300, 21221, 403),
lci = c(-123, -0.2, 50, 100, 12321, 200),
uci = c(10, 2, 200, 400, 30122, 500),
sep = '-',
digits = 1)
expect_equal(c("0.0 (-123.0-10.0)",
"1.0 (-0.2-2.0)",
"100.0 (50.0-200.0)",
"300.0 (100.0-400.0)",
"21221.0 (12321.0-30122.0)",
"403.0 (200.0-500.0)"),
pretty_ci(est = c(0, 1, 100, 300, 21221, 403),
lci = c(-123, -0.2, 50, 100, 12321, 200),
uci = c(10, 2, 200, 400, 30122, 500),
sep = '-',
digits = 1)
)
library(testthat)
expect_equal(c("0.0 (-123.0-10.0)",
"1.0 (-0.2-2.0)",
"100.0 (50.0-200.0)",
"300.0 (100.0-400.0)",
"21221.0 (12321.0-30122.0)",
"403.0 (200.0-500.0)"),
pretty_ci(est = c(0, 1, 100, 300, 21221, 403),
lci = c(-123, -0.2, 50, 100, 12321, 200),
uci = c(10, 2, 200, 400, 30122, 500),
sep = '-',
digits = 1)
)
expect_equal("2.00 (1.00 to 3.00)", pretty_ci(2, lci = 1, uci = 3, digits = 2, sep = ' to '))
expect_equal("2.00 (1.00 to 3.00)", pretty_ci('2', lci = '1', uci = '3', digits = 2, sep = ' to '))
df_int <- mutate(df_input, ci = est %>% pretty_ci(lci = lci, uci = uci, sep = ' by ', digits = 0))
df_input <- data_frame(est = c(0,1), lci = c(0, 2), uci = c(1, 4))
df_int <- mutate(df_input, ci = est %>% pretty_ci(lci = lci, uci = uci, sep = ' by ', digits = 0))
df_output <-
expect_equal(nrow(df_input),nrow(df_int))
?expect_out
?expect_equal
df_input <- data_frame(est = c(0,1), lci = c(0, 2), uci = c(1, 4))
df_int <- mutate(df_input, ci = pretty_ci(est = est, lci = lci, uci = uci, sep = ' by ', digits = 0))
df_int$ci
df_output <- c("0 (0 by 1)", "1 (2 by 4)")
expect_equal(df_output, df_int$ci)
source('~/Dropbox/Personal/prettypublisher/tests/testthat/test-pretty_ci.R', echo=TRUE)
library(prettypublisher)
library(prettypublisher)
add_package(dplyr)
devtools::use_package('dplyr')
library(prettypublisher)
?funs
library(prettypublisher)
dplyr::data_frame
?pretty_ci
library(prettypublisher)
library(prettypublisher)
source('~/Dropbox/Personal/prettypublisher/R/pretty_ci.R', echo=TRUE)
library(prettypublisher)
library(prettypublisher)
pkgdown:::build_site_rstudio()
pkgdown:::build_site_rstudio()
library(prettypublisher)
?aes_string
library(prettypublisher)
pretty_ci
pretty_ci(2, 1, 3)
pkgdown:::build_site_rstudio()
install_github(seabbs/prettypublisher)
library(devtools)
install_github(seabbs/prettypublisher)
install_github('seabbs/prettypublisher')
?prettypublisher
library(prettypublisher)
library(prettypublisher)
?prettypublisher
